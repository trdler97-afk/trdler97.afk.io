<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shops Directory</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f4f4f4;
      color: #333;
    }
    header {
      background: #00cc99;
      color: white;
      padding: 15px;
      text-align: center;
    }
    #map {
      width: 100%;
      height: 400px;
    }
    .shop-list {
      padding: 20px;
    }
    .shop {
      background: white;
      margin-bottom: 15px;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .shop h3 {
      margin: 0 0 10px;
      color: #00cc99;
    }
    .shop p {
      margin: 5px 0;
    }
    .back-link {
      display: inline-block;
      margin-top: 10px;
      padding: 6px 12px;
      background: #00cc99;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      transition: background 0.3s ease;
    }
    .back-link:hover {
      background: #00ffff;
    }
  </style>
</head>
<body>
  <header>
    <h1>Our Shops</h1>
    <p>See real-time locations and opening hours</p>
  </header>

  <!-- Map -->
  <div id="map"></div>

  <!-- Shop List -->
  <div class="shop-list" id="shopList"></div>

  <script>
    // Example shop data (replace with real-time data from backend)
    const shops = [
      { name: "Green Market", lat: -0.420, lng: 36.947, open: "08:00 AM", close: "08:00 PM" },
      { name: "Cosmic Store", lat: -0.423, lng: 36.950, open: "09:00 AM", close: "09:00 PM" },
      { name: "Faith Groceries", lat: -0.425, lng: 36.940, open: "07:30 AM", close: "07:00 PM" }
    ];

    // Initialize Google Map
    function initMap() {
      const center = { lat: -0.423, lng: 36.947 }; // adjust to your area
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 14,
        center: center
      });

      // Add markers
      shops.forEach(shop => {
        const marker = new google.maps.Marker({
          position: { lat: shop.lat, lng: shop.lng },
          map: map,
          title: shop.name
        });

        const infoWindow = new google.maps.InfoWindow({
          content: `
            <h3>${shop.name}</h3>
            <p>Open: ${shop.open} - Close: ${shop.close}</p>
            <a class="back-link" href="index.html">Go to Main Site</a>
          `
        });

        marker.addListener("click", () => {
          infoWindow.open(map, marker);
        });
      });

      // Populate shop list
      const shopListDiv = document.getElementById("shopList");
      shops.forEach(shop => {
        const div = document.createElement("div");
        div.className = "shop";
        div.innerHTML = `
          <h3>${shop.name}</h3>
          <p>Opens at: ${shop.open}</p>
          <p>Closes at: ${shop.close}</p>
          <p>Location: (${shop.lat}, ${shop.lng})</p>
          <a class="back-link" href="index.html">Go to Main Site</a>
        `;
        shopListDiv.appendChild(div);
      });
    }
  </script>

  <!-- Load Google Maps API (replace YOUR_API_KEY with your actual key) -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>
</body>
</html>
